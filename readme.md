🏗️ 단순화된 아키텍처
┌─────────────────────────────────────────┐
│         스케줄러 (APScheduler)            │
│         매일 오전 9시 실행                │
└────────────────┬────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────┐
│           InvestmentAgent                │
│       (단일 메인 에이전트)                │
│                                          │
│  1. collect_data()                       │
│  2. analyze_data()                       │
│  3. generate_report()                    │
│  4. send_to_slack()                      │
└────────────────┬────────────────────────┘
                 │
         ┌───────┴────────┐
         │                │
         ▼                ▼
┌──────────────┐  ┌──────────────┐
│  API Clients │  │  LLM Helper  │
│              │  │              │
│ - Deepsearch │  │ - GPT-5      │
│ - Finnhub    │  │ - Prompts    │
│ - Slack      │  │              │
└──────────────┘  └──────────────┘

🗂️ 단순화된 폴더 구조
investment-agent/
│
├── config.py                    # 모든 설정 (100줄)
├── api_clients.py              # API 클라이언트들 (200줄)
├── agent.py                    # 메인 에이전트 (300줄)
├── report_generator.py         # PDF 생성 (100줄)
├── main.py                     # 실행 파일 (50줄)
│
├── data/
│   ├── raw/                    # 수집 데이터
│   └── reports/                # 생성 리포트
│
├── .env
├── requirements.txt
└── README.md

해외주식 투자 제안 에이전트

[핵심 아이디어]
원하는 에이전트는 주식의 단기 이동평균선, 거래량 등 기술적 분석을 통해 직접 투자까지 진행해주는 고도화된 에이전트를 만들고자 하는 것이 아님. 해외 주식의 경우, 해당 기업의 재무재표, 지속가능보고서, 미래 비전에 대해 발표한 내용 등 + 예정된 이벤트(1분기 매출 발표, 주주총회 등등)와 해외 뉴스(재무, 비즈니스, 기술, 정치/법률) +.거시경제 지표(금리 인하 발표(예정), 고용 지표, 물가 상승률, 환율, 필라델피아 반도체 지수, 지정학적 리스크, 정치적 이슈 등을 종합하여 인사이트 보고서를 만들고 투자할 가치가 있는 종목들을 주기적으로 메일을 통해 혹은 슬랙과 같은 SNS를 통해 전달 및 알림해주는 에이전트를 만들기를 원함.


[국내/해외 뉴스 수집 시 활용할 API]
[Main]DeepsearchAPI
[Sub]NewsAPI

[아이디어 구현 방식]
- 기업의 재무제표, 지속가능보고서, 미래 비전, 다가오는 이벤트 등은 RAG 모델을 통해 검색하고 기업 홈페이지에 직접 들어가서 웹 페이지 구조를 확인하고 관련된 내용들과 파일들을 크롤링해온 후 데이터에 저장하고 파일들(PDF, Docx 등)의 경우 내용들을 md 파일로 저장하거나 효율적으로 읽을 수 있는 방법으로 변환한 뒤, 파서해서 해당 내용을 분석 에이전트에게 핸들링하는 방식으로 진행. —> 추후 확장으로 진행 예정 초기에는 구현 X

- 거시경제 지표는 Deepsearch API 활용하여 수집.

- 주식 가격 정보는 초기에는 MVP 테스트 용으로 Finhub 무료 API를 사용할 예정. 추후, 한국투자증권 API나 LS증권 API 활용하여 주식 가격 정보, 차트, 거래량 등 모두 가져올 수 있도록 만들 예정. —> 초기에는 Finhub API만 사용.

[구축해야할 에이전트]
LLM 모델은 Open AI API를 사용하고 “gpt-5” 모델을 사용할 것.
에이전트 구축은 LLM 에이전트들로 주로 구성하고 Langchain 라이브러리를 사용할 것.
- DeepsearchAPI를 전문적으로 활용하는 에이전트(초기에는 해외만, 이후 국내까지 확장할 예정). DeepsearchAPI 문서를 명확히 이해하고 사용자의 입력에 따라 해외 뉴스 검색/집계/섹션 검색, 해외 토픽 검색/섹션 검색, 해외 주식 브리핑, 미국 주식 브리핑 Csv 다운로드, 미국 ETF 브리핑 csv 다운로드, 미국 공시 검색/집계/단일 조회/요약 등의 기능을 올바른 API 호출을 통해 가져오는 작업 수행.
- 가져온 뉴스 데이터를 빠르게 병렬 수행을 통해 파싱하는 에이전트(이 에이전트 내 하위 에이전트들을 주제나 섹션 별로 나누어서 설계하고 이러한 라우팅 및 핸들러 작업을 수행하는 코디네이터 에이전트를 설계. 각각의 하위 에이전트들의 결과 값을 최종적으로 받아 하나로 취합하는 편집자 에이전트 설계.
- 편집자 에이전트로부터 받은 종합 파싱 데이터 파일을 분석하고 투자 제안을 할 수 있는 에이전트 설계. 투자 전문가, 재무 분석가, 핵심 요약 정리를 할 수 있는 최종 편집자 에이전트 등등을 만들기.
- 종합한 최종 투자 제안서를 PDF 파일로 변환하는 에이전트 구축
- 이를 슬랙 API와 연동하여 user에게 파일과 함께 메시지를 보내는 에이전트 구축

[API KEY 모음]
- OPEN_AI_API_KEY: OPENAI_API_KEY= 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
- DeepsearchAPI: f308544dad794e91a4cf434291c3ed9f
- NewsAPI: 020e12a3ba6c4a6bb21b0845be4e4cd4
- Finnhub API Key: “d3d02dpr01qmnfgfhiugd3d02dpr01qmnfgfhiv0”
- Slack API
    - 앱 ID:A09J80AP3FX
    - 생성 날짜: October 2, 2025
    - 클라이언트 ID: 9128906936803.9620010785541
    - 클라이언트 Passward: 5f66f31939fadb341e00b874f11dd4c5
    - 서명 Passward: cc1c0218cca422749df46ce97fa50008
    - 검증 토큰: 5N8qMdBR8ec3dDwgMKaevSeo